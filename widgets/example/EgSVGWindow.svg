<?xml version='1.0' encoding='UTF-8'?>

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 1000 1000" onload="init()" onmousemove="dragndrop_Move(evt)" onmouseup="dragndrop_End(evt)">

<script type="text/ecmascript" xlink:href="../widgets.js"></script>

<script type="text/ecmascript">

<![CDATA[

function init()
{
    var background = new Background();

	var showArea = wrapElementById("showarea1");
    
    var infoWindow = new SVGWindow("info", 3, {fill:"lightgreen", stroke:"black", rx:4}, {width:100});
    showArea.appendChild(infoWindow);
    infoWindow.setPosition(150, 150);
    var label = new TextLabel("foobar", {"font-size":30, fill:"black", "space":"preserve"}, {minSpacing:0, maxWidth:200});
    infoWindow.contents.appendChild(label);

	var addBoxButton = new RectButton("addBox", 0, 0, new SVGElement("text", {y:12, "font-size":12}, "add"), {fill:"white", stroke:"red", rx:2}, {fill:"orange"}, {fill:"red"}, 4, false);
	infoWindow.contents.appendChild(addBoxButton);

	var boxArea = new FlowLayout(0, 0, {direction:"down", minSpacing:3});
	var internalScrollbarRegion = new ScrollbarRegion({width:400, height:200, scrollbarWidth:20}, boxArea);
	infoWindow.contents.appendChild(internalScrollbarRegion);

	var myListener = new Object();
	myListener.doAction = function(src, evt) 
		{
			if (evt.type == "click")
			{
				boxArea.appendChild(new SVGElement("rect", {width:50, height:50, fill:"yellow", stroke:"black"}));
				internalScrollbarRegion.refreshLayout();
				infoWindow.refreshLayout();
				evt.stopPropagation();
			}
		};
	addBoxButton.addActionListener(myListener);

	infoWindow.refreshLayout();
}

]]>

</script>

<rect x="0%" y="0%" width="100%" height="100%" stroke="none" fill="black"/>

<g id="showarea1"/>

</svg>

